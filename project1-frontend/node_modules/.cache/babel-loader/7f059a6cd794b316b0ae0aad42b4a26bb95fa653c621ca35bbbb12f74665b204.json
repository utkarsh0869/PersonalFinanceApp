{"ast":null,"code":"var _jsxFileName = \"/Users/utkarshgerrard/Desktop/Java_Projects/Group-1/project1-frontend/src/components/AccountComponent/account-page.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport AccountList from '../components/AccountList';\nimport AddAccountForm from '../components/AddAccountForm';\nimport { getUserAccounts, addAccount, deleteAccount } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AccountPage() {\n  _s();\n  const [state, setState] = useState({\n    accounts: [],\n    newAccount: {\n      accountName: '',\n      balance: '',\n      accountType: 'CREDIT',\n      creditLimit: '',\n      apr: '',\n      principal: '',\n      loanDisbursementDate: '',\n      loanRepaymentDate: '',\n      minMonthlyPayment: ''\n    }\n  });\n  useEffect(() => {\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      const userId = user.id;\n      getUserAccounts(userId).then(response => {\n        setState(prevState => ({\n          ...prevState,\n          accounts: response.data\n        }));\n      }).catch(error => console.error('There was an error fetching the accounts.', error));\n    }\n  }, []);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setState(prevState => ({\n      ...prevState,\n      newAccount: {\n        ...prevState.newAccount,\n        [name]: value\n      }\n    }));\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      const userId = user.id;\n      addAccount(userId, state.newAccount).then(response => {\n        setState(prevState => ({\n          ...prevState,\n          accounts: [...prevState.accounts, response.data],\n          newAccount: {\n            accountName: '',\n            balance: '',\n            accountType: 'CREDIT',\n            creditLimit: '',\n            apr: '',\n            principal: '',\n            loanDisbursementDate: '',\n            loanRepaymentDate: '',\n            minMonthlyPayment: ''\n          }\n        }));\n      }).catch(error => {\n        console.error('There was an error creating the account.', error);\n      });\n    }\n  };\n  const handleCloseAccount = accountId => {\n    deleteAccount(accountId).then(response => {\n      if (response.data) {\n        setState(prevState => ({\n          ...prevState,\n          accounts: prevState.accounts.filter(account => account.accountId !== accountId)\n        }));\n        console.log(`Account with ID ${accountId} deleted.`);\n      }\n    }).catch(error => {\n      console.error('There was an error deleting the account.', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Account List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AccountList, {\n      accounts: state.accounts,\n      closeAccount: handleCloseAccount,\n      setState: setState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add New Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddAccountForm, {\n      newAccount: state.newAccount,\n      handleInputChange: handleInputChange,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(AccountPage, \"LByVRw6BGQMCqSARsKzuqNdWSCc=\");\n_c = AccountPage;\nvar _c;\n$RefreshReg$(_c, \"AccountPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","AccountList","AddAccountForm","getUserAccounts","addAccount","deleteAccount","jsxDEV","_jsxDEV","AccountPage","_s","state","setState","accounts","newAccount","accountName","balance","accountType","creditLimit","apr","principal","loanDisbursementDate","loanRepaymentDate","minMonthlyPayment","userString","localStorage","getItem","user","JSON","parse","userId","id","then","response","prevState","data","catch","error","console","handleInputChange","event","name","value","target","handleSubmit","preventDefault","handleCloseAccount","accountId","filter","account","log","children","fileName","_jsxFileName","lineNumber","columnNumber","closeAccount","_c","$RefreshReg$"],"sources":["/Users/utkarshgerrard/Desktop/Java_Projects/Group-1/project1-frontend/src/components/AccountComponent/account-page.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport AccountList from '../components/AccountList';\nimport AddAccountForm from '../components/AddAccountForm';\nimport { getUserAccounts, addAccount, deleteAccount } from '../api';\n\nexport default function AccountPage() {\n  const [state, setState] = useState({\n    accounts: [],\n    newAccount: {\n      accountName: '',\n      balance: '',\n      accountType: 'CREDIT',\n      creditLimit: '',\n      apr: '',\n      principal: '',\n      loanDisbursementDate: '',\n      loanRepaymentDate: '',\n      minMonthlyPayment: ''\n    }\n  });\n\n  useEffect(() => {\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      const userId = user.id;\n\n      getUserAccounts(userId)\n        .then(response => {\n          setState(prevState => ({\n            ...prevState,\n            accounts: response.data\n          }));\n        })\n        .catch(error => console.error('There was an error fetching the accounts.', error));\n    }\n  }, []);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setState(prevState => ({\n      ...prevState,\n      newAccount: {\n        ...prevState.newAccount,\n        [name]: value\n      }\n    }));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      const userId = user.id;\n\n      addAccount(userId, state.newAccount)\n        .then(response => {\n          setState(prevState => ({\n            ...prevState,\n            accounts: [...prevState.accounts, response.data],\n            newAccount: {\n              accountName: '',\n              balance: '',\n              accountType: 'CREDIT',\n              creditLimit: '',\n              apr: '',\n              principal: '',\n              loanDisbursementDate: '',\n              loanRepaymentDate: '',\n              minMonthlyPayment: ''\n            }\n          }));\n        })\n        .catch(error => {\n          console.error('There was an error creating the account.', error);\n        });\n    }\n  };\n\n  const handleCloseAccount = (accountId) => {\n    deleteAccount(accountId)\n      .then(response => {\n        if (response.data) {\n          setState(prevState => ({\n            ...prevState,\n            accounts: prevState.accounts.filter(account => account.accountId !== accountId)\n          }));\n          console.log(`Account with ID ${accountId} deleted.`);\n        }\n      })\n      .catch(error => {\n        console.error('There was an error deleting the account.', error);\n      });\n  };\n\n  return (\n    <Container>\n      <h1>Account List</h1>\n      <AccountList accounts={state.accounts} closeAccount={handleCloseAccount} setState={setState} />\n      <h2>Add New Account</h2>\n      <AddAccountForm newAccount={state.newAccount} handleInputChange={handleInputChange} handleSubmit={handleSubmit} />\n    </Container>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,eAAe,EAAEC,UAAU,EAAEC,aAAa,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC;IACjCc,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;MACVC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,QAAQ;MACrBC,WAAW,EAAE,EAAE;MACfC,GAAG,EAAE,EAAE;MACPC,SAAS,EAAE,EAAE;MACbC,oBAAoB,EAAE,EAAE;MACxBC,iBAAiB,EAAE,EAAE;MACrBC,iBAAiB,EAAE;IACrB;EACF,CAAC,CAAC;EAEFvB,SAAS,CAAC,MAAM;IACd,MAAMwB,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAIF,UAAU,EAAE;MACd,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACnC,MAAMM,MAAM,GAAGH,IAAI,CAACI,EAAE;MAEtB3B,eAAe,CAAC0B,MAAM,CAAC,CACpBE,IAAI,CAACC,QAAQ,IAAI;QAChBrB,QAAQ,CAACsB,SAAS,KAAK;UACrB,GAAGA,SAAS;UACZrB,QAAQ,EAAEoB,QAAQ,CAACE;QACrB,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC,CAAC;IACtF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,iBAAiB,GAAIC,KAAK,IAAK;IACnC,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IACpC/B,QAAQ,CAACsB,SAAS,KAAK;MACrB,GAAGA,SAAS;MACZpB,UAAU,EAAE;QACV,GAAGoB,SAAS,CAACpB,UAAU;QACvB,CAAC2B,IAAI,GAAGC;MACV;IACF,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,YAAY,GAAIJ,KAAK,IAAK;IAC9BA,KAAK,CAACK,cAAc,CAAC,CAAC;IACtB,MAAMrB,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAIF,UAAU,EAAE;MACd,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACnC,MAAMM,MAAM,GAAGH,IAAI,CAACI,EAAE;MAEtB1B,UAAU,CAACyB,MAAM,EAAEnB,KAAK,CAACG,UAAU,CAAC,CACjCkB,IAAI,CAACC,QAAQ,IAAI;QAChBrB,QAAQ,CAACsB,SAAS,KAAK;UACrB,GAAGA,SAAS;UACZrB,QAAQ,EAAE,CAAC,GAAGqB,SAAS,CAACrB,QAAQ,EAAEoB,QAAQ,CAACE,IAAI,CAAC;UAChDrB,UAAU,EAAE;YACVC,WAAW,EAAE,EAAE;YACfC,OAAO,EAAE,EAAE;YACXC,WAAW,EAAE,QAAQ;YACrBC,WAAW,EAAE,EAAE;YACfC,GAAG,EAAE,EAAE;YACPC,SAAS,EAAE,EAAE;YACbC,oBAAoB,EAAE,EAAE;YACxBC,iBAAiB,EAAE,EAAE;YACrBC,iBAAiB,EAAE;UACrB;QACF,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CACDa,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAClE,CAAC,CAAC;IACN;EACF,CAAC;EAED,MAAMS,kBAAkB,GAAIC,SAAS,IAAK;IACxCzC,aAAa,CAACyC,SAAS,CAAC,CACrBf,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACE,IAAI,EAAE;QACjBvB,QAAQ,CAACsB,SAAS,KAAK;UACrB,GAAGA,SAAS;UACZrB,QAAQ,EAAEqB,SAAS,CAACrB,QAAQ,CAACmC,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACF,SAAS,KAAKA,SAAS;QAChF,CAAC,CAAC,CAAC;QACHT,OAAO,CAACY,GAAG,CAAC,mBAAmBH,SAAS,WAAW,CAAC;MACtD;IACF,CAAC,CAAC,CACDX,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;IAClE,CAAC,CAAC;EACN,CAAC;EAED,oBACE7B,OAAA,CAACP,SAAS;IAAAkD,QAAA,gBACR3C,OAAA;MAAA2C,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrB/C,OAAA,CAACN,WAAW;MAACW,QAAQ,EAAEF,KAAK,CAACE,QAAS;MAAC2C,YAAY,EAAEV,kBAAmB;MAAClC,QAAQ,EAAEA;IAAS;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC/F/C,OAAA;MAAA2C,QAAA,EAAI;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxB/C,OAAA,CAACL,cAAc;MAACW,UAAU,EAAEH,KAAK,CAACG,UAAW;MAACyB,iBAAiB,EAAEA,iBAAkB;MAACK,YAAY,EAAEA;IAAa;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzG,CAAC;AAEhB;AAAC7C,EAAA,CAnGuBD,WAAW;AAAAgD,EAAA,GAAXhD,WAAW;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}