{"ast":null,"code":"var _jsxFileName = \"/Users/utkarshgerrard/Desktop/Java_Projects/Group-1/project1-frontend/src/components/AccountComponent/account-context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport { fetchAccountsApi, addAccountApi, deleteAccountApi, updateAccountApi } from './account-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AccountContext = /*#__PURE__*/createContext();\nexport const AccountProvider = ({\n  children\n}) => {\n  _s();\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const handleEditAccount = account => {\n    console.log(account);\n    setSelectedAccount(account);\n    setShowUpdateModal(true);\n  };\n  const handleCloseModal = () => {\n    setShowUpdateModal(false);\n    setSelectedAccount(null);\n  };\n  const [state, setState] = useState({\n    accounts: [],\n    newAccount: {\n      accountName: '',\n      balance: '',\n      accountType: 'CREDIT',\n      creditLimit: '',\n      apr: '',\n      principal: '',\n      loanDisbursementDate: '',\n      loanRepaymentDate: '',\n      minMonthlyPayment: ''\n    }\n  });\n  const fetchAccounts = () => {\n    console.log(\"here in fetch account of context class\");\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      var userId = user.id;\n    }\n    fetchAccountsApi(userId).then(response => {\n      setState(prevState => ({\n        ...prevState,\n        accounts: response.data\n      }));\n    }).catch(error => console.error('There was an error fetching the accounts.', error));\n  };\n  const handleUpdateAccount = updatedAccountFromDB => {\n    // Update the accounts list in state with the updated account\n    const updatedAccounts = state.accounts.map(account => account.accountId === updatedAccountFromDB.accountId ? updatedAccountFromDB : account);\n    setState(prevState => ({\n      ...prevState,\n      accounts: updatedAccounts\n    }));\n  };\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setState(prevState => ({\n      ...prevState,\n      newAccount: {\n        ...prevState.newAccount,\n        [name]: value\n      }\n    }));\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      var userId = user.id;\n    }\n    addAccountApi(userId, state.newAccount).then(response => {\n      setState(prevState => ({\n        ...prevState,\n        accounts: [...prevState.accounts, response.data],\n        newAccount: {\n          accountName: '',\n          balance: '',\n          accountType: 'CREDIT',\n          creditLimit: '',\n          apr: '',\n          principal: '',\n          loanDisbursementDate: '',\n          loanRepaymentDate: '',\n          minMonthlyPayment: ''\n        }\n      }));\n    }).catch(error => {\n      console.error('There was an error creating the account.', error);\n    });\n  };\n  const closeAccount = accountId => {\n    deleteAccountApi(accountId).then(response => {\n      if (response.data) {\n        setState(prevState => ({\n          ...prevState,\n          accounts: prevState.accounts.filter(account => account.accountId !== accountId)\n        }));\n        console.log(`Account with ID ${accountId} deleted.`);\n      }\n    }).catch(error => {\n      console.error('There was an error deleting the account.', error);\n    });\n  };\n  const editAccountHandleSubmit = event => {\n    event.preventDefault();\n    updateAccountApi(selectedAccount).then(response => {\n      handleUpdateAccount(response.data); // Update the state in parent component\n      handleCloseModal(); // Close the modal\n    }).catch(error => {\n      console.error('Error updating account: ', error);\n    });\n  };\n  const handleInputChangeOnModal = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSelectedAccount({\n      ...selectedAccount,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AccountContext.Provider, {\n    value: {\n      state,\n      fetchAccounts,\n      handleInputChange,\n      handleSubmit,\n      closeAccount,\n      setState,\n      handleUpdateAccount,\n      showUpdateModal,\n      setShowUpdateModal,\n      selectedAccount,\n      setSelectedAccount,\n      handleEditAccount,\n      handleCloseModal,\n      editAccountHandleSubmit,\n      handleInputChangeOnModal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(AccountProvider, \"XasnpWF70GpiiyLnoPWdHN3aBaU=\");\n_c = AccountProvider;\nexport const useAccountContext = () => {\n  _s2();\n  return useContext(AccountContext);\n};\n_s2(useAccountContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AccountProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","fetchAccountsApi","addAccountApi","deleteAccountApi","updateAccountApi","jsxDEV","_jsxDEV","AccountContext","AccountProvider","children","_s","showUpdateModal","setShowUpdateModal","selectedAccount","setSelectedAccount","handleEditAccount","account","console","log","handleCloseModal","state","setState","accounts","newAccount","accountName","balance","accountType","creditLimit","apr","principal","loanDisbursementDate","loanRepaymentDate","minMonthlyPayment","fetchAccounts","userString","localStorage","getItem","user","JSON","parse","userId","id","then","response","prevState","data","catch","error","handleUpdateAccount","updatedAccountFromDB","updatedAccounts","map","accountId","handleInputChange","event","name","value","target","handleSubmit","preventDefault","closeAccount","filter","editAccountHandleSubmit","handleInputChangeOnModal","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAccountContext","_s2","$RefreshReg$"],"sources":["/Users/utkarshgerrard/Desktop/Java_Projects/Group-1/project1-frontend/src/components/AccountComponent/account-context.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport { fetchAccountsApi, addAccountApi, deleteAccountApi, updateAccountApi } from './account-api';\n\nexport const AccountContext = createContext();\n\nexport const AccountProvider = ({ children }) => {\n\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [selectedAccount, setSelectedAccount] = useState(null);\n\n  const handleEditAccount = (account) => {\n    console.log(account);\n    setSelectedAccount(account);\n    setShowUpdateModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowUpdateModal(false);\n    setSelectedAccount(null);\n  };\n\n  const [state, setState] = useState({\n    accounts: [],\n    newAccount: {\n      accountName: '',\n      balance: '',\n      accountType: 'CREDIT',\n      creditLimit: '',\n      apr: '',\n      principal: '',\n      loanDisbursementDate: '',\n      loanRepaymentDate: '',\n      minMonthlyPayment: ''\n    }\n  });\n\n  const fetchAccounts = () => {\n    console.log(\"here in fetch account of context class\")\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      var userId = user.id;\n    }\n    fetchAccountsApi(userId)\n      .then(response => {\n        setState(prevState => ({\n          ...prevState,\n          accounts: response.data\n        }));\n      })\n      .catch(error => console.error('There was an error fetching the accounts.', error));\n  };\n\n  const handleUpdateAccount = (updatedAccountFromDB) => {\n    // Update the accounts list in state with the updated account\n    const updatedAccounts = state.accounts.map(account =>\n      account.accountId === updatedAccountFromDB.accountId ? updatedAccountFromDB : account\n    );\n    setState(prevState => ({\n      ...prevState,\n      accounts: updatedAccounts\n    }));\n  };\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setState(prevState => ({\n      ...prevState,\n      newAccount: {\n        ...prevState.newAccount,\n        [name]: value\n      }\n    }));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const user = JSON.parse(userString);\n      var userId = user.id;\n    }\n\n    addAccountApi(userId, state.newAccount)\n      .then(response => {\n        setState(prevState => ({\n          ...prevState,\n          accounts: [...prevState.accounts, response.data],\n          newAccount: {\n            accountName: '',\n            balance: '',\n            accountType: 'CREDIT',\n            creditLimit: '',\n            apr: '',\n            principal: '',\n            loanDisbursementDate: '',\n            loanRepaymentDate: '',\n            minMonthlyPayment: ''\n          }\n        }));\n      })\n      .catch(error => {\n        console.error('There was an error creating the account.', error);\n      });\n  };\n\n  const closeAccount = (accountId) => {\n    deleteAccountApi(accountId)\n      .then(response => {\n        if (response.data) {\n          setState(prevState => ({\n            ...prevState,\n            accounts: prevState.accounts.filter(account => account.accountId !== accountId)\n          }));\n          console.log(`Account with ID ${accountId} deleted.`);\n        }\n      })\n      .catch(error => {\n        console.error('There was an error deleting the account.', error);\n      });\n  };\n\n  const editAccountHandleSubmit = (event) => {\n    event.preventDefault();\n    updateAccountApi(selectedAccount)\n        .then(response => {\n            handleUpdateAccount(response.data); // Update the state in parent component\n            handleCloseModal(); // Close the modal\n        })\n        .catch(error => {\n            console.error('Error updating account: ', error);\n        });\n};\n\nconst handleInputChangeOnModal = (event) => {\n  const { name, value } = event.target;\n  setSelectedAccount({ ...selectedAccount, [name]: value });\n};\n\n  return (\n    <AccountContext.Provider value={{ state, fetchAccounts, handleInputChange, handleSubmit, closeAccount, setState, handleUpdateAccount,\n      showUpdateModal, setShowUpdateModal, selectedAccount, setSelectedAccount, handleEditAccount, handleCloseModal, editAccountHandleSubmit,\n      handleInputChangeOnModal}}>\n      {children}\n    </AccountContext.Provider>\n  );\n};\n\nexport const useAccountContext = () => {\n  return useContext(AccountContext);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}